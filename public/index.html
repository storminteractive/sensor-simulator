<!DOCTYPE html>
<html>

<head>
  <title>Sensor simulator</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- Upload card -->
<div class="container mt-5">
  <div class="card mb-3">
    <div class="card-header bg-dark text-white text-center">
      <img src="dell-logo-white.png" class="mt-2 mb-2" height="50px"/>
      <h3 class="mb-0 text-center">Sensors simulator</h3>
    </div>
    <div class="card-body w-100">
      <h3 class="card-title mb-4 text-center">Choose a CSV file</h3>
      <form id="upload-form" enctype="multipart/form-data">
        <div class="form-group d-flex justify-content-center">
          <input type="file" id="file-input" name="file" accept=".csv" class="form-control-file" onchange="formUploadFile();">
        </div>
        <!--
        <div class="upload-button-div">
          <button type="submit" class="btn btn-primary btn-block mt-3" style="width: 100%;"> &#x2B06; Upload CSV</button>
        </div>
        -->
        <div class="progress mt-3">
          <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <div class="speed mt-3"></div>
      </form>
    </div>
  </div>
</div>

  <!-- Files list -->
  <div class="container mt-2">
    <div class="card">
      <div class="card-header">Files</div>
      <div class="card-body file-list-parent">
        <div id="file-list" class="">
          <center>Loading...</center>

          <!--
          <div class="card mb-3 file-list-element">
            <div class="card-body">
              <div class="d-flex align-items-center file-desc">
                <div class="status-led status-grey"></div>
                <div class="drag-handle" style="margin-right: 10px; cursor: grab;">&#9776;</div>
                <div class="flex-grow-1 file-text">File-1.csv</div>
                <button class="btn btn-primary expose-button" style="margin-right: 5px;">Expose</button>
                <button class="btn btn-danger delete-button">Delete</button>
              </div>
            </div>
          </div>
          -->

        </div>
      </div>
    </div>

  <!-- API -->
  <div class="container mt-3 mb-3">
    <div class="card">
      <div class="card-header">API</div>
      <div class="card-body">
        API at <a href="/api">/api</a> is currently exposing: <span id="exposed-file" style="font-weight: bold">nothing</span>
      </div>
    </div>
  </div>

    <!-- Instructions -->
    <div class="container mt-3 mb-3">
      <div class="card">
        <div class="card-header">Instructions</div>
        <div class="card-body">
          <a href="/api">/api</a> - all data<br>
          <a href="/api/1683296720">/api/:timestamp</a> - specific record based on timestamp - for example /api/1683296720 - will find a record with a timestamp of 1683296720<br>
          <a href="/api/filter/sensorid/2">/api/filter/:column/:value</a> - filtering based on specific column value - for example /api/filter/sensorid/2 will find all records with sensorid = 2<br>
        </div>
  
        <div class="card-footer">
          <b>Code by Paul Poliwoda (Paul.Poliwoda@Dell.com)</b> <br/>Dell Technologies Consulting<br/><br/>
          Legal disclaimer: This code is provided as is and without any warranty or guarantee. The author and any contributors cannot be held liable for any damages or losses arising from the use of this code. By using this code, you agree to indemnify and hold harmless the author and any contributors from any claims, lawsuits, or damages resulting from its use. All brand names are trademarks of their respective owners. The code in this project is licensed under the AGPL license. This means that the code belongs to the owner and is protected under the applicable copyright laws. You are free to use, modify, and distribute the code, but you must provide attribution to the owner and include a copy of the license with any distributions or modifications.
        </div>
  
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"></script>
  <script src="/script.js"></script>
  <script src="/uploads.js"></script>
  <script src="/exposure-api.js"></script>
</body>

</html>